<!DOCTYPE html>
<html>
	<head>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
		<script src="Yii.js"></script>
	</head>
	<body>
		<script type="text/template" id="woof-template">
			<div>
				<p><h1>Movies</h1></p>
				
				<% _.each(collection , function(movie) { %>
					<img src="<%= movie.img_url %>" width="100" height="100" style="border-width:1px;border-style:solid"></img>
					<p><b>ID:</b> <%= movie.id %></p>
					<p><b>Title:</b> <%= movie.title %></p>
				<% }); %>
				
				<p><button type="submit" id="hello">Click me</button></p>
				<p><button type="submit" id="goodbye">Click me</button></p>
			</div>
		</script>
		
		<div id="viewer"></div>

		<script>
			var MyView = Yii.View.extend({
				id: 'viewer',

				template: $('#woof-template').html(),

				events: {
					'click #hello': 'woof',
					'click #goodbye': 'meow'
				},

				woof: function() {
					alert('Hello World!');
				},

				meow: function() {
					alert('Goodbye World!');
				}
			});

			var myView = new MyView();

			var MyModel = Yii.Model.extend({
				url: 'http://cs3213.herokuapp.com/movies.json'
			});

			var myModel = new MyModel();
			myModel.fetch({
				success: function() {
					myView.model = myModel.attributes;

					myView.render();
				}
			});
		</script>
	</body>
</html>